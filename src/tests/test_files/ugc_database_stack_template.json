{
  "Type": "AWS::RDS::DBInstance",
  "Properties": {
    "AllocatedStorage": {
      "Ref": "AllocatedStorage"
    },
    "BackupRetentionPeriod": {
      "Ref": "BackupRetentionDays"
    },
    "DBInstanceClass": {
      "Ref": "InstanceClass"
    },
    "DBParameterGroupName": {
      "Ref": "ParameterGroup"
    },
    "DBSubnetGroupName": {
      "Ref": "SubnetGroup"
    },
    "Engine": "postgres",
    "EngineVersion": "9.6",
    "KmsKeyId": {
      "Fn::GetAtt": [
        "UgcRdsEncryptionKey",
        "Arn"
      ]
    },
    "MasterUserPassword": {
      "Ref": "DatabasePassword"
    },
    "MasterUsername": {
      "Ref": "DatabaseUser"
    },
    "MultiAZ": {
      "Ref": "MultiAZ"
    },
    "PubliclyAccessible": "false",
    "StorageEncrypted": "true",
    "VPCSecurityGroups": [
      {
        "Ref": "VPCSecurityGroup"
      }
    ],
    "DBSnapshotIdentifier": "arn:aws:rds:eu-west-2:546933502184:snapshot:rds:test-ugc-postgres-2019-12-02-02-13"
  }
}
